MULTIPLE FILES WERE GENERATED

File 1 : /myProject/null/org/xmdlab/cartridge/jee/metafacade/ApplicationMetafacadeImpl.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.metafacade.CartridgeMetafacadeImplXtendTpl
 */
package org.xmdlab.cartridge.jee.metafacade

import com.google.inject.Singleton

@Singleton
class ApplicationMetafacadeImpl extends ApplicationMetafacadeBase {

}

File 2 : /myProject/null/org/xmdlab/cartridge/jee/metafacade/EntityMetafacadeImpl.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.metafacade.CartridgeMetafacadeImplXtendTpl
 */
package org.xmdlab.cartridge.jee.metafacade

import com.google.inject.Singleton

@Singleton
class EntityMetafacadeImpl extends EntityMetafacadeBase {

}

File 3 : /myProject/null/org/xmdlab/cartridge/jee/templates/EntityTpl.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.templates.TemplateTpl
 */
package org.xmdlab.cartridge.jee.templates

import com.google.inject.Inject
import org.xmdlab.cartridge.jee.metafacade.*
import org.xmdlab.cartridge.jee.conf.JeeCartridgeProperties

class EntityTpl extends EntityTplBase {
	
	@Inject extension JeeCartridgeProperties
	
	override doGenerate() '''
	
	'''
}

File 4 : /myProject/null/org/xmdlab/cartridge/jee/templates/ReadmeMdTpl.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.templates.TemplateTpl
 */
package org.xmdlab.cartridge.jee.templates

import com.google.inject.Inject
import org.xmdlab.cartridge.jee.metafacade.*
import org.xmdlab.cartridge.jee.conf.JeeCartridgeProperties

class ReadmeMdTpl extends ReadmeMdTplBase {
	
	@Inject extension JeeCartridgeProperties
	
	override doGenerate() '''
	
	'''
}

File 5 : /myProject/null/org/xmdlab/cartridge/jee/transformation/JeeCartridgeTransformation.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.transformation.CartridgeTransformationXtendTpl
 */
package org.xmdlab.cartridge.jee.transformation

import com.google.inject.Inject
import org.eclipse.xtext.naming.IQualifiedNameProvider

class JeeCartridgeTransformation extends JeeCartridgeTransformationBase {
	val static final Logger LOG = LoggerFactory.getLogger(JeeCartridgeTransformation)
	
	private static val org.xmdlab.jee.application.mm.MmFactory FACTORY = org.xmdlab.jee.application.mm.MmFactory::eINSTANCE
	
	var org.xmdlab.jee.application.mm.MmApplication mmApplication
	var org.xmdlab.dsl.application.applicationDsl.DslApplication dslApplication
	
	override create FACTORY.createMmApplication transform(org.xmdlab.dsl.application.applicationDsl.DslApplication dslApplication) {
		LOG.info("transform dslApplication: " + dslApplication)
		
		throw new UnsupportedOperationException("TODO: Implement me!")
	}
}

File 6 : /myProject/src-gen/org/xmdlab/cartridge/jee/JeeCartridgeGeneratorModule.java

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.generator.CartridgeGeneratorModuleTpl
 */
package org.xmdlab.cartridge.jee;

import org.eclipse.xtext.generator.JavaIoFileSystemAccess;
import org.eclipse.xtext.service.AbstractGenericModule;
import org.xmdlab.cartridge.common.conf.CartridgeProperties;
import org.xmdlab.cartridge.common.generator.IOutputConfigurationProvider;
import org.xmdlab.cartridge.common.generator.JavaIoFileSystemAccessExt;
import org.xmdlab.cartridge.jee.conf.JeeCartridgeProperties;
import org.xmdlab.cartridge.jee.generator.JeeCartridgeGenerator;
import org.xmdlab.cartridge.jee.io.JeeCartridgeOutputConfigurationProvider;
import org.xmdlab.cartridge.jee.metafacade.*;

import com.google.inject.Binder;

/**
 * The JeeCartridgeGeneratorModule
 *
 * @author Sebastian Freund<seba1403@googlemail.com>
 *
 */
public class JeeCartridgeGeneratorModule extends AbstractGenericModule {

	@Override
	public void configure(Binder binder) {
		super.configure(binder);
	}
	
	public Class<? extends CartridgeProperties> bindJeeCartridgeProjectProperties() {
		return JeeCartridgeProperties.class;
	}
	
	public Class<? extends org.xmdlab.cartridge.common.generator.IGenerator> bindIGenerator() {
		return JeeCartridgeGenerator.class;
	}
	
	public Class<? extends IOutputConfigurationProvider> bindIOutputConfigurationProvider() {
		return JeeCartridgeOutputConfigurationProvider.class;
	}
	
	public Class<? extends JavaIoFileSystemAccess> bindJavaIoFileSystemAccess() {
		return JavaIoFileSystemAccessExt.class;
	}
	
	public Class<? extends ApplicationMetafacade> bindApplicationMetafacade() {
		return ApplicationMetafacadeImpl.class;
	}
	
	public Class<? extends EntityMetafacade> bindEntityMetafacade() {
		return EntityMetafacadeImpl.class;
	}
	
}

File 7 : /myProject/src-gen/org/xmdlab/cartridge/jee/JeeCartridgeGeneratorStandaloneSetup.java

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.generator.CartridgeGeneratorStandaloneSetupTpl
 */
package org.xmdlab.cartridge.jee;

import org.eclipse.xtext.util.Modules2;

import com.google.inject.Guice;
import com.google.inject.Injector;

/**
 * The JeeCartridgeGeneratorStandaloneSetup
 *
 * @author Sebastian Freund<seba1403@googlemail.com>
 *
 */
public class JeeCartridgeGeneratorStandaloneSetup extends org.xmdlab.dsl.application.ApplicationDslStandaloneSetup {

	public static void doSetup() {
		new JeeCartridgeGeneratorStandaloneSetup().createInjectorAndDoEMFRegistration();
	}
	
	@Override
	public Injector createInjector() {
		return Guice.createInjector(Modules2.mixin(
			new org.xmdlab.dsl.application.ApplicationDslRuntimeModule(),
			new JeeCartridgeGeneratorModule()));
	}
}

File 8 : /myProject/src-gen/org/xmdlab/cartridge/jee/conf/JeeCartridgeProjectProperties.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.conf.CartridgePropertiesTpl
 */
package org.xmdlab.cartridge.jee.conf

import com.google.inject.Singleton

/**
 * The org.xmdlab.cartridge.generator.dsl.templates.conf.CartridgePropertiesTpl
 *
 * @author Sebastian Freund<seba1403@googlemail.com>
 *
 */
@Singleton
class JeeCartridgeProperties extends org.xmdlab.cartridge.common.conf.CartridgeProperties {
	
	// Properties for group vagrant
	def String getVmBox() {
		return config.getString("vagrant.vmBox")
	}
}

File 9 : /myProject/src-gen/org/xmdlab/cartridge/jee/generator/JeeCartridgeGeneratorBase.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.generator.CartridgeGeneratorBaseXtendTpl
 */
package org.xmdlab.cartridge.jee.generator

import com.google.inject.Inject
import com.google.inject.Provider
import org.eclipse.xtext.generator.IFileSystemAccess
import org.xmdlab.cartridge.common.generator.IGenerator
import org.xmdlab.cartridge.jee.templates.ReadmeMdTpl
import org.xmdlab.cartridge.jee.templates.EntityTpl
import org.xmdlab.cartridge.jee.metafacade.*
import static org.xmdlab.cartridge.jee.io.JeeCartridgeOutputConfigurationProvider.*
import org.slf4j.LoggerFactory
import org.slf4j.Logger
import org.xmdlab.cartridge.jee.conf.JeeCartridgeProperties
import org.xmdlab.jee.application.mm.*

/**
 * The JeeCartridgeGeneratorBase
 *
 * @author Sebastian Freund<seba1403@googlemail.com>
 *
 */
abstract class JeeCartridgeGeneratorBase implements IGenerator {

	val static final Logger LOG = LoggerFactory.getLogger(JeeCartridgeGeneratorBase)

	@Inject extension JeeCartridgeProperties

	@Inject ApplicationMetafacade applicationMetafacade
	@Inject EntityMetafacade entityMetafacade
	@Inject Provider<ReadmeMdTpl> readmeMdTpl
	@Inject Provider<EntityTpl> entityTpl
	
	/**
	* This method is a long sequence of calling all templates for the code generation
	*/
	override void doGenerate(IFileSystemAccess fsa) {
		val MmApplication application = applicationMetafacade.modelResource
		
		LOG.info("doGenerate: " + application)
		
		// compile templates
		compileReadmeMd(fsa)
		compileEntity(fsa)
		
		application.eAllContents.filter(MmEntity).forEach[compileEntity(fsa, it)]
	}
	
	/**
	 *
	 */
	def compileReadmeMd(IFileSystemAccess fsa) {
		val ReadmeMdTpl tpl = readmeMdTpl.get
		
		val String fileName = "README.md"
		
		fsa.generateFile(fileName, OUTPUTCONFIG_BASE, tpl.generate())
	}
	
	/**
	 *
	 */
	def compileEntity(IFileSystemAccess fsa) {
		val EntityTpl tpl = entityTpl.get
		
		val String fileName = getCompileEntityOutputPattern(entityMetafacade)
		
		fsa.generateFile(fileName, OUTPUTCONFIG_CORE_GENERATED_SRC, tpl.generate())
	}
	
	def String getEntityOutputPattern()
	
}

File 10 : /myProject/src-gen/org/xmdlab/cartridge/jee/metafacade/ApplicationMetafacade.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.metafacade.CartridgeMetafacadeXtendTpl
 */
package org.xmdlab.cartridge.jee.metafacade

import org.xmdlab.cartridge.common.metafacade.Metafacade

interface ApplicationMetafacade extends Metafacade<org.xmdlab.jee.application.mm.MmApplication> {
}

File 11 : /myProject/src-gen/org/xmdlab/cartridge/jee/metafacade/ApplicationMetafacadeBase.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.metafacade.CartridgeMetafacadeBaseXtendTpl
 */
package org.xmdlab.cartridge.jee.metafacade

import org.xmdlab.cartridge.common.metafacade.MetafacadeBase
import org.xmdlab.jee.application.mm.MmApplication

abstract class ApplicationMetafacadeBase extends MetafacadeBase<MmApplication> implements ApplicationMetafacade {
}

File 12 : /myProject/src-gen/org/xmdlab/cartridge/jee/metafacade/EntityMetafacade.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.metafacade.CartridgeMetafacadeXtendTpl
 */
package org.xmdlab.cartridge.jee.metafacade

import org.xmdlab.cartridge.common.metafacade.Metafacade

interface EntityMetafacade extends Metafacade<org.xmdlab.jee.application.mm.MmEntity> {
}

File 13 : /myProject/src-gen/org/xmdlab/cartridge/jee/metafacade/EntityMetafacadeBase.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.metafacade.CartridgeMetafacadeBaseXtendTpl
 */
package org.xmdlab.cartridge.jee.metafacade

import org.xmdlab.cartridge.common.metafacade.MetafacadeBase
import org.xmdlab.jee.application.mm.MmEntity

abstract class EntityMetafacadeBase extends MetafacadeBase<MmEntity> implements EntityMetafacade {
}

File 14 : /myProject/src-gen/org/xmdlab/cartridge/jee/templates/EntityTplBase.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.templates.TemplateBaseTpl
 */
package org.xmdlab.cartridge.jee.templates

import com.google.inject.Inject
import org.xmdlab.cartridge.jee.metafacade.*
import org.xmdlab.cartridge.common.template.Template

abstract class EntityTplBase implements Template {
	
	@Inject extension EntityMetafacade entityMetafacade

	override generate() '''
		«doGenerate()»
	'''

	def String doGenerate()
	
	def getEntityMetafacade() {
		return entityMetafacade
	}
}

File 15 : /myProject/src-gen/org/xmdlab/cartridge/jee/templates/ReadmeMdTplBase.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.templates.TemplateBaseTpl
 */
package org.xmdlab.cartridge.jee.templates

import com.google.inject.Inject
import org.xmdlab.cartridge.jee.metafacade.*
import org.xmdlab.cartridge.common.template.Template

abstract class ReadmeMdTplBase implements Template {
	
	@Inject extension ApplicationMetafacade applicationMetafacade

	override generate() '''
		«doGenerate()»
	'''

	def String doGenerate()
	
	def getApplicationMetafacade() {
		return applicationMetafacade
	}
}

File 16 : /myProject/src-gen/org/xmdlab/cartridge/jee/transformation/JeeCartridgeTransformationBase.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.transformation.CartridgeTransformationBaseXtendTpl
 */
package org.xmdlab.cartridge.jee.transformation

class JeeCartridgeTransformationBase {
	private static val org.xmdlab.jee.application.mm.MmFactory FACTORY = org.xmdlab.jee.application.mm.MmFactory::eINSTANCE
	
	def create FACTORY.createMmApplication transform(org.xmdlab.dsl.application.applicationDsl.DslApplication dslApplication) {
		throw new UnsupportedOperationException(
			"TODO: Override JeeCartridgeTransformationBase:transform() in JeeCartridgeTransformation")
	}
}

File 17 : /myProject/src-gen/org/xmdlab/cartridge/jee/util/JeeCartridgeOutputConfigurationProvider.xtend

/**
 * Generated by Xgen. !!! DO NOT EDIT BY HAND IF THIS FILE WAS GENERATED TO A DERIVED DIRECTORY !!!
 * Xtend Template: org.xmdlab.cartridge.generator.dsl.templates.generator.CartridgeOutputConfigurationProviderTpl
 */
package org.xmdlab.cartridge.jee.io;

import java.util.Map
import org.eclipse.xtext.generator.OutputConfiguration
import org.xmdlab.cartridge.common.generator.DefaultOutputConfigurationProvider

/**
 * Configuration of output locations and settings for code generation.
 *
 * @author Sebastian Freund<seba1403@googlemail.com>
 *
 */
public class JeeCartridgeOutputConfigurationProvider extends DefaultOutputConfigurationProvider {
	Map<String, OutputConfiguration> outputs = super.getOutputConfigurations();

	public static String OUTPUTCONFIG_BASE = "base";
	public static String OUTPUTCONFIG_CORE_GENERATED_SRC = "core_generated_src";

	override public Map<String, OutputConfiguration> getOutputConfigurations() {
	//
	var OutputConfiguration baseOutput = new OutputConfiguration(OUTPUTCONFIG_BASE);
	baseOutput.setDescription("base output configuraton");
	baseOutput.setOutputDirectory("..");
	baseOutput.setOverrideExistingResources(false);
	
	outputs.put(OUTPUTCONFIG_BASE, baseOutput);
	
	//
	var OutputConfiguration core_generated_srcOutput = new OutputConfiguration(OUTPUTCONFIG_CORE_GENERATED_SRC);
	core_generated_srcOutput.setDescription("core_generated_src output configuraton");
	core_generated_srcOutput.setOutputDirectory("../core/src-gen");
	core_generated_srcOutput.setOverrideExistingResources(true);
	
	outputs.put(OUTPUTCONFIG_CORE_GENERATED_SRC, core_generated_srcOutput);
	
		return outputs;
	}
}

