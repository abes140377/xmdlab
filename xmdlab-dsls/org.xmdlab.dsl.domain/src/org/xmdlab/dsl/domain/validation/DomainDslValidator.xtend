/*
 * generated by Xtext
 */
package org.xmdlab.dsl.domain.validation

import org.eclipse.xtext.validation.Check
import org.xmdlab.dsl.domain.domainDsl.DslNode
import org.xmdlab.dsl.domain.domainDsl.DslRole
import org.xmdlab.dsl.domain.domainDsl.DomainDslPackage

import static org.xmdlab.dsl.domain.validation.IssueCodes.*

import static extension java.lang.Character.*

/**
 * Custom validation rules. 
 *
 * see http://www.eclipse.org/Xtext/documentation.html#validation
 */
class DomainDslValidator extends AbstractDomainDslValidator {

	public static val INVALID_NAME = 'invalidName'

	@Check
	def checkDslNodeNameStartsWithCapital(DslNode dslNode) {
		if (dslNode.name.charAt(0).upperCase)
			warning("DslNode name should start with a lower case letter", DomainDslPackage::eINSTANCE.dslNode_Name,
				UNCAPITALIZED_NAME, dslNode.name)
	}

	@Check
	def checkDslNodeDomain(DslNode dslNode) {
		if (dslNode.domain.indexOf('') > 0)
			warning("DslNode domain should be a domain name like e.g.: mydomain.com",
				DomainDslPackage::eINSTANCE.dslNode_Domain, NO_DOMAIN_EXPRESSION, dslNode.domain)
	}

	@Check
	def checkDslRoleNameStartsWithCapital(DslRole dslRole) {
		if (dslRole.name.charAt(0).upperCase)
			warning("DslRole name should start with a lower case letter", DomainDslPackage::eINSTANCE.dslRole_Name,
				UNCAPITALIZED_NAME, dslRole.name)
	}

//	@Check
//	def checkDslProfileNameStartsWithCapital(DslProfile dslProfile) {
//		if (dslProfile.name.charAt(0).upperCase)
//			warning("DslProfile name should start with a lower case letter", DomainDslPackage::eINSTANCE.dslProfile_Name,
//				UNCAPITALIZED_NAME, dslProfile.name)
//	}
//	
//	@Check
//	def checkDslModuleNameStartsWithCapital(DslModule dslModule) {
//		if (dslModule.name.charAt(0).upperCase)
//			warning("DslModule name should start with a lower case letter", DomainDslPackage::eINSTANCE.dslModule_Name,
//				UNCAPITALIZED_NAME, dslModule.name)
//	}
}
